<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CASE</title>
</head>

<body>
    <style>
        body {
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: linear-gradient(to right, #1a1a1a, #333333);
        }
    </style>
    <script src="https://unpkg.com/pixi.js@7.x/dist/pixi.min.js"></script>
    <script>
        window.addEventListener('DOMContentLoaded', () => {
            const app = new PIXI.Application({
                width: 950,
                height: 950,
            });

            document.body.appendChild(app.view);

            const circleGraphics = new PIXI.Graphics();
            circleGraphics.beginFill(0xFFFFFF, 0.3);
            circleGraphics.drawCircle(500, 750, 150);
            circleGraphics.endFill();
            app.stage.addChild(circleGraphics);

            const style = new PIXI.TextStyle({
                fontFamily: 'Arial',
                fontSize: 48,
                fill: '#000000',
                align: 'center'
            });

            let letters = ['G', 'O', 'L', 'D'];
            const radius = 80;
            const centerX = 500;
            const centerY = 750;

            let letterObjects = createLetters(letters);

            const boxHeight = 40;
            const boxWidth = 80;
            const totalBoxes = 3;
            const totalWidth = (boxWidth * totalBoxes);
            const startXBoxes = (app.screen.width - totalWidth) / 2;

            const boxTexts = [];
            for (let j = 0; j < totalBoxes; j++) {
                for (let i = 0; i < 4; i++) {
                    const box = new PIXI.Graphics();
                    box.lineStyle(4, 0x4d4d4d, 1);
                    box.beginFill(0x2a2a2a, 0.9);
                    box.drawRoundedRect(startXBoxes + (boxWidth + 20) * j, 160 + (boxHeight + 30) * i, boxWidth, boxHeight, 15);
                    box.endFill();
                    box.interactive = true;

                    box.on('pointerover', () => {
                        box.clear();
                        box.lineStyle(4, 0xd6c1a6, 1);
                        box.beginFill(0x2a2a2a, 0.9);
                        box.drawRoundedRect(startXBoxes + (boxWidth + 20) * j, 160 + (boxHeight + 30) * i, boxWidth, boxHeight, 15);
                        box.endFill();
                    });

                    box.on('pointerout', () => {
                        box.clear();
                        box.lineStyle(4, 0x4d4d4d, 1);
                        box.beginFill(0x2a2a2a, 0.9);
                        box.drawRoundedRect(startXBoxes + (boxWidth + 20) * j, 160 + (boxHeight + 30) * i, boxWidth, boxHeight, 15);
                        box.endFill();
                    });

                    app.stage.addChild(box);

                    const text = new PIXI.Text('', new PIXI.TextStyle({
                        fontFamily: 'Arial',
                        fontSize: 28,
                        fill: '#4d4d4d',
                        align: 'center'
                    }));
                    text.x = startXBoxes + (boxWidth + 20) * j + (boxWidth - text.width) / 2;
                    text.y = 160 + (boxHeight + 30) * i + (boxHeight - text.height) / 2;
                    app.stage.addChild(text);

                    boxTexts.push(text);
                }
            }

            function createLetters(lettersArray) {
                const createdLetters = lettersArray.map((letter, index) => {
                    const angle = (index * (2 * Math.PI) / lettersArray.length);
                    const x = centerX + radius * Math.cos(angle) - 24;
                    const y = centerY + radius * Math.sin(angle) - 24;

                    const text = new PIXI.Text(letter, style);
                    text.x = x;
                    text.y = y;
                    text.interactive = true;
                    text.buttonMode = true;

                    text.on('pointerover', () => {
                        text.style.fill = '#ffffff';
                    });

                    text.on('pointerout', () => {
                        text.style.fill = '#000000';
                    });

                    text.on('pointerdown', onLetterPointerDown);
                    app.stage.addChild(text);
                    return text;
                });
                return createdLetters;
            }

            function onLetterPointerDown(event) {
                const letterObj = this;
                letterObj.data = event.data;
                letterObj.alpha = 0.5;

                letterObj.on('pointermove', onLetterPointerMove);
                letterObj.on('pointerup', onLetterPointerUp);
                letterObj.on('pointerupoutside', onLetterPointerUp);
            }

            function onLetterPointerMove() {
                if (this.data) {
                    const newPosition = this.data.getLocalPosition(this.parent);
                    const position = newPosition;

                    for (let i = 0; i < boxTexts.length; i++) {
                        const boxText = boxTexts[i];
                        const boxX = boxText.x - 25;
                        const boxY = boxText.y - 10;
                        if (position.x >= boxX && position.x <= boxX + boxWidth && position.y >= boxY && position.y <= boxY + boxHeight) {
                            boxText.style.fill = '#ffffff';
                        }
                    }
                }
            }

            function onLetterPointerUp() {
                if (this.data) {
                    const position = this.data.getLocalPosition(this.parent);
                    const letter = this.text;

                    for (let i = 0; i < boxTexts.length; i++) {
                        const boxText = boxTexts[i];
                        if (boxText.text === '') {
                            const boxX = boxText.x - 25;
                            const boxY = boxText.y - 10;
                            if (position.x >= boxX && position.x <= boxX + boxWidth && position.y >= boxY && position.y <= boxY + boxHeight) {
                                boxText.text = letter;
                                boxText.style.fill = '#ffffff';
                                break;
                            }
                        }
                    }

                    this.alpha = 1;
                    this.data = null;
                    this.off('pointermove', onLetterPointerMove);
                    this.off('pointerup', onLetterPointerUp);
                    this.off('pointerupoutside', onLetterPointerUp);
                }
            }

            const button = new PIXI.Graphics();
            button.beginFill(0x999999);
            button.drawCircle(centerX, centerY, 30);
            button.endFill();
            button.interactive = true;
            button.buttonMode = true;
            button.on('pointerdown', changeLetters);
            app.stage.addChild(button);

            const buttonText = new PIXI.Text("", {
                fontFamily: 'Arial',
                fontSize: 24,
                fill: '#FFFFFF',
                align: 'center'
            });
            buttonText.x = centerX - buttonText.width / 2;
            buttonText.y = centerY - buttonText.height / 2;
            app.stage.addChild(buttonText);

            function changeLetters() {
                letters = shuffleArray(letters);
                letterObjects.forEach(letterObj => {
                    app.stage.removeChild(letterObj);
                });
                letterObjects = createLetters(letters);
            }

            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }
        });

        // Not : Harfleri sürükleyip kutucukların içerisine yerleştirmeniz gerekiyor.
        // İlk dört yukardan aşağıya GOLD , geiye kalan harflerimiz soldan sağa olacak şekilde GOL,OLD,LOG.DOG şeklindedir.
    </script>
</body>

</html>